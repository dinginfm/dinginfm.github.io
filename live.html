<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dingin FM â€” CanlÄ± YayÄ±n</title>
  <link rel="stylesheet" href="stil.css">
  <style>
    body {margin:0; background:#001626; color:#e6edf3; font-family:'Segoe UI',sans-serif; text-align:center; overflow-x:hidden;}
    .logo {position:fixed; top:0; left:0; width:100vw; height:100vh; object-fit:cover; opacity:0.08; z-index:0; pointer-events:none;}
    header {background:rgba(0,39,67,0.85); padding:20px 10px; box-shadow:0 3px 10px rgba(0,0,0,.5); position:sticky; top:0; z-index:10; backdrop-filter:blur(5px);}
    .header-container {display:flex; flex-direction:column; align-items:center; gap:6px;}
    h1.site-title {color:#ffd43b; font-size:28px; margin:0; letter-spacing:1px;}
    h2.site-subtitle {color:#9fbdd3; font-weight:normal; font-size:14px; margin:0 0 10px 0;}
    nav a {color:#e6edf3; margin:0 12px; text-decoration:none; font-weight:500; font-size:15px; transition:.3s;}
    nav a:hover, nav a.active {color:#ffd43b; border-bottom:2px solid #ffd43b; padding-bottom:3px;}
    main {margin-top:60px; position:relative; z-index:1;}
    section {background:rgba(0,39,67,0.65); margin:20px auto; padding:30px 20px; width:90%; max-width:650px; border-radius:15px; box-shadow:0 0 10px rgba(255,212,59,0.3);}
    p {color:#a9c4d8; font-size:16px; line-height:1.6;}
    .status {font-size:15px; color:#ffd43b; margin-bottom:15px; display:flex; justify-content:center; align-items:center; gap:10px;}
    .led {width:14px; height:14px; border-radius:50%; box-shadow:0 0 10px currentColor; transition:0.3s;}
    .btn {display:inline-block; background:#ffd43b; color:#001626; text-decoration:none; font-weight:700; padding:12px 25px; border-radius:8px; margin-top:15px; transition:.3s;}
    .btn:hover {background:#ffea84; transform:scale(1.05);}
    footer {background:rgba(0,39,67,0.85); padding:15px; font-size:13px; color:#9fbdd3; margin-top:50px; box-shadow:0 -2px 10px rgba(0,0,0,.4);}
    @media(max-width:600px){nav a{display:inline-block; margin:6px; font-size:14px;} section{width:95%; padding:20px 10px;}}
  </style>
</head>
<body>
  <img src="assets/logo.png" alt="DinginFM Logo" class="logo">

  <header>
    <div class="header-container">
      <h1 class="site-title">DINGIN FM</h1>
      <h2 class="site-subtitle">SessizliÄŸin Sesi Burada</h2>
      <nav>
        <a href="index.html">Ana Sayfa</a>
        <a href="live.html" class="active">CanlÄ± YayÄ±n</a>
        <a href="dj.html">DJ Aylak</a>
        <a href="podcast.html">Podcast</a>
        <a href="blog.html">Blog</a>
        <a href="tarihce.html">TarihÃ§e</a>
        <a href="connect.html">Ä°letiÅŸim</a>
      </nav>
    </div>
  </header>

  <main>
    <section>
      <div class="status">
        <span id="led" class="led" style="background:gray;"></span>
        <span id="statusText">YayÄ±nda DeÄŸil</span>
      </div>

      <a href="#" id="startButton" class="btn">ðŸŽ§ CanlÄ± YayÄ±nÄ± BaÅŸlat</a>

      <p>ðŸ“» EÄŸer ses gelmiyorsa DJ Aylak henÃ¼z yayÄ±nda deÄŸil olabilir.<br>Kahveni tazele, birazdan frekans yeniden aÃ§Ä±lÄ±r â˜•ðŸŽ¶</p>
    </section>
  </main>

  <footer>
    Â© 2025 Dingin FM â€” TÃ¼m YayÄ±n ve Ä°Ã§erik HaklarÄ± SaklÄ±dÄ±r
  </footer>

  <script>
    const led = document.getElementById('led');
    const statusText = document.getElementById('statusText');
    const startBtn = document.getElementById('startButton');

    // YayÄ±n durumunu kontrol eden fonksiyon (sunucu tarafÄ±nda endpoint olmalÄ±)
    async function checkStream() {
      try {
        const res = await fetch('/status'); // JSON: { live: true/false }
        const data = await res.json();
        if(data.live){
          led.style.backgroundColor = '#00e676';
          statusText.textContent = 'ðŸŸ¢ YayÄ±nda';
        } else {
          led.style.backgroundColor = 'gray';
          statusText.textContent = 'YayÄ±nda DeÄŸil';
        }
      } catch(err){
        led.style.backgroundColor = 'gray';
        statusText.textContent = 'YayÄ±nda DeÄŸil';
      }
    }

    checkStream();
    setInterval(checkStream, 10000);

    // CanlÄ± yayÄ±nÄ± baÅŸlat
    startBtn.addEventListener('click', () => {
      window.open('/play', '_blank'); // Icecast stream baÅŸlatacak endpoint
    });
  </script>
</body>
</html>
