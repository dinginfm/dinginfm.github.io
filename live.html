<script>
async function checkBroadcast() {
    const led = document.getElementById('led');
    const statusText = document.getElementById('statusText');
    
    try {
        // Buraya kendi yayÄ±n sunucunuzun status URL'sini koyacaÄŸÄ±z
        const response = await fetch('https://dinginfm.com.tr/status', { method: 'GET', cache:'no-store' });
        
        // YayÄ±n varsa
        if (response.ok) {
            const data = await response.json(); // { "live": true } gibi bir yanÄ±t
            if(data.live) {
                led.style.color = '#00e676';
                statusText.textContent = 'ğŸŸ¢ YayÄ±nda';
            } else {
                led.style.color = 'gray';
                statusText.textContent = 'âšª YayÄ±nda DeÄŸil';
            }
        } else {
            led.style.color = 'gray';
            statusText.textContent = 'âšª YayÄ±nda DeÄŸil';
        }
    } catch (err) {
        led.style.color = 'gray';
        statusText.textContent = 'âšª YayÄ±nda DeÄŸil';
    }
}

// Sayfa aÃ§Ä±lÄ±r aÃ§Ä±lmaz kontrol et
checkBroadcast();

// Her 10 saniyede bir tekrar kontrol et
setInterval(checkBroadcast, 10000);
</script>
