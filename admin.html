<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DinginFM Studio — DJ Aylak Yönetim Paneli</title>
<style>
  body {
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#001626 url('assets/logo.png') no-repeat center center fixed;
    background-size:cover;
    color:#e6edf3;
    text-align:center;
  }
  header {
    background:rgba(0,22,38,0.9);
    padding:20px 0;
    box-shadow:0 3px 12px rgba(0,0,0,.6);
    position:sticky;
    top:0;
    z-index:10;
  }
  h1 {color:#ffd43b;margin:0;font-size:26px;}
  h2 {color:#9fbdd3;font-weight:normal;margin:5px 0 0;}
  section {
    max-width:1000px;
    margin:25px auto;
    background:rgba(2,43,71,0.85);
    border-radius:14px;
    padding:25px;
    box-shadow:0 4px 15px rgba(0,0,0,0.6);
  }
  .module {
    background:#003d66;
    margin:15px 0;
    padding:15px;
    border-radius:12px;
  }
  .module h3 {
    color:#ffd43b;
    margin-top:0;
  }
  iframe {
    border:none;
    border-radius:12px;
    width:90%;
    margin-top:10px;
  }
  ul {
    list-style:none;
    padding:0;
    text-align:left;
    margin:0 auto;
    max-width:90%;
  }
  li {
    background:rgba(0,0,0,0.3);
    margin:8px 0;
    padding:10px;
    border-radius:8px;
    color:#fff;
  }
  footer {
    margin-top:30px;
    color:#9fbdd3;
    font-size:13px;
    padding-bottom:15px;
  }
  button {
    background:#ffd43b;
    border:none;
    border-radius:8px;
    padding:10px 18px;
    font-weight:bold;
    cursor:pointer;
    margin-top:10px;
  }
  button:hover {
    background:#fff;
    color:#001626;
  }
</style>
</head>
<body>

<header>
  <h1>🎧 DinginFM Studio</h1>
  <h2>DJ Aylak Yönetim Paneli</h2>
</header>

<section>
  <div class="module">
    <h3>🎵 Spotify Modülü</h3>
    <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DX4WYpdgoIcn6" height="152" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
  </div>

  <div class="module">
    <h3>🎬 YouTube Modülü</h3>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/jfKfPfyJRdk" title="YouTube player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>

  <div class="module">
    <h3>🎙️ Podcast Kayıtları</h3>
    <ul id="podcastList">
      <li>🎧 <b>Kahve Molası #1</b> — Sessizlik Üzerine Bir Yayın</li>
      <li>🎧 <b>Şaheser ile Pijamalı Sohbetler</b> — 12.10.2025</li>
    </ul>
  </div>

  <div class="module">
    <h3>💬 Gelen Mesajlar</h3>
    <ul id="messages"></ul>
    <audio id="dingSound" src="assets/ding.mp3" preload="auto"></audio>
    <button onclick="refreshMessages()">🔄 Mesajları Yenile</button>
  </div>

  <div class="module">
    <h3>🔊 Ses Kontrol</h3>
    <button onclick="toggleMute()">🔇 Sesi Kapat / Aç</button>
    <p id="soundStatus">Durum: Ses açık</p>
  </div>
</section>

<footer>
  © 2025 DinginFM — Sessizliğin Sesi Burada
</footer>

<script>
let muted = false;
function toggleMute() {
  muted = !muted;
  document.getElementById('soundStatus').textContent = muted ? 'Durum: Ses kapalı' : 'Durum: Ses açık';
  document.querySelectorAll('iframe').forEach(frame => {
    frame.contentWindow.postMessage('{"event":"command","func":"mute","args":[]}', '*');
  });
}

// Mesaj sistemi (örnek veri simülasyonu)
const ding = document.getElementById('dingSound');
let lastCount = 0;

function refreshMessages() {
  fetch('messages.json')
    .then(r => r.json())
    .then(data => {
      const box = document.getElementById('messages');
      box.innerHTML = '';
      data.forEach(m => {
        const li = document.createElement('li');
        li.textContent = `${m.time} — ${m.name}: ${m.message}`;
        box.appendChild(li);
      });
      if (data.length > lastCount) ding.play();
      lastCount = data.length;
    })
    .catch(() => console.log('Mesajlar alınamadı.'));
}

// Her 10 saniyede bir kontrol
setInterval(refreshMessages, 10000);
</script>

</body>
</html>
